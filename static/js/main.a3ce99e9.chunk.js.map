{"version":3,"sources":["reducers/gallery.js","reducers/notification.js","reducers/index.js","store.js","actions/index.js","components/app-header/index.js","components/app-header/app-header.js","components/gallery/gallery.js","components/gallery/index.js","components/add-form/add-form.js","components/add-form/index.js","components/notification/index.js","components/notification/notification.js","components/preview/preview.js","components/preview/index.js","components/preloader/index.js","components/preloader/preloader.js","components/modal/index.js","components/modal/modal.js","components/app/index.js","components/app/app.js","index.js"],"names":["initialState","editableItemId","items","JSON","parse","localStorage","getItem","form","isVisible","newItem","link","comment","preview","preloader","imageModal","gallery","state","action","type","payload","id","itemIdx","findIndex","item","slice","notifications","notification","n","filter","reducer","combineReducers","store","createStore","applyMiddleware","thunk","changeFormVisibility","status","saveNewItem","changePreviewStatus","setItems","setIdForEdit","imageModalToggle","modalParams","AppHeader","connect","dispatch","openForm","className","onClick","Gallery","applyChanges","newState","props","editComment","imgUrl","openPreview","this","length","list","setList","animation","delayOnTouchStart","delay","map","key","deleteItem","src","alt","openModal","title","Component","setItem","stringify","imageLink","AddForm","imageUrl","isButtonDisabled","close","setState","closeForm","addNewImage","e","preventDefault","isNotificationVisible","checkLink","setPreloaderStatus","trim","showNotify","navigator","onLine","then","res","ok","headers","get","includes","catch","err","prop","currentTarget","getAttribute","value","target","isFormVisible","onSubmit","data","onChange","handleChangeValue","placeholder","cols","rows","disabled","message","notificationId","Date","now","appendNotification","setTimeout","fetch","chechLink","changePreloaderVisibility","Notification","notificationsList","ntf","classList","Preview","acceptEdits","editableId","editItemById","onClose","document","querySelector","focus","completedItem","setNewItem","dataForUpdate","getState","updatedItems","Preloader","Modal","closeModal","clickToOverlay","App","isPreviewVisible","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a3ce99e9.chunk.js","sourcesContent":["\nconst initialState = {\n  editableItemId: null,\n  items: JSON.parse(localStorage.getItem('items') || '[]'),\n  form: {\n    isVisible: false,\n    newItem: { link: '', comment: '' }\n  },\n  preview: {\n    isVisible: false\n  },\n  preloader: {\n    isVisible: false\n  },\n  imageModal: { link: '', isVisible: false }\n}\n\nconst gallery = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case 'CHANGE_FORM_VISIBILITY': {\n      return {\n        ...state,\n        form: {\n          ...state.form,\n          isVisible: action.payload\n        }\n      }\n    }\n\n    case 'SAVE_NEW_ITEM': {\n      return {\n          ...state,\n        form: {\n          ...state.form,\n          newItem: action.payload\n        }\n      }\n    }\n\n    case 'CHANGE_PREVIEW_STATUS': {\n      return {\n        ...state,\n        preview: {\n          isVisible: action.payload\n        }\n      }\n    }\n\n    case 'CHANGE_PRELOADER_VISIBILITY': {\n      return {\n        ...state,\n        preloader: {\n          isVisible: action.payload\n        }\n      }\n    }\n\n    case 'SET_ITEMS': {\n      return {\n        ...state,\n        items: action.payload\n      }\n    }\n\n    case 'SET_NEW_ITEM': {\n      return {\n        ...state,\n        items: [\n          action.payload,\n          ...state.items\n        ]\n      }\n    }\n\n    case 'SET_ID_FOR_EDIT': {\n      return {\n        ...state,\n        editableItemId: action.payload\n      }\n    }\n\n    case 'EDIT_ITEM': {\n      const id = action.payload.id\n      const itemIdx = state.items.findIndex(item => item.id === id)\n      const item = state.items[itemIdx]\n      \n      return {\n        ...state,\n        items: [\n          ...state.items.slice(0, itemIdx),\n          { ...item, comment: action.payload.comment },\n          ...state.items.slice(itemIdx + 1)\n        ]\n      }\n    }\n\n    case 'IMAGE_MODAL_TOGGLE': {\n      return {\n        ...state,\n        imageModal: action.payload\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nexport default gallery\n","\nconst initialState = {\n  notifications: []\n}\n\nconst notification = (state = initialState, action) => {\n\n  switch (action.type) {\n\n    case 'APPEND_NOTIFICATION': {\n      return {\n        notifications: [\n          action.payload,\n          ...state.notifications\n        ]\n      }\n    }\n\n    case 'HIDE_NOTIFICATION': {\n      const id = action.payload\n      const itemIdx = state.notifications.findIndex(n => n.id === id)\n      const item = state.notifications[itemIdx]\n\n      return {\n        notifications: [\n          ...state.notifications.slice(0, itemIdx),\n          { ...item, isVisible: false },\n          ...state.notifications.slice(itemIdx + 1)\n        ]\n      }\n    }\n\n    case 'REMOVE_NOTIFICATION': {\n      const id = action.payload\n      return {\n        notifications: state.notifications.filter(n => n.id !== id)\n      }\n    }\n\n    default:\n      return state\n  }\n}\n\nexport default notification\n","import { combineReducers } from 'redux'\nimport gallery from './gallery'\nimport notification from './notification'\n\nconst reducer = combineReducers({\n  gallery,\n  notification\n})\n\nexport default reducer\n","import { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducers'\nimport thunk from 'redux-thunk'\n\nconst store = createStore(reducer, applyMiddleware(thunk))\n\nexport default store","import store from '../store';\n\nexport const changeFormVisibility = status => ({\n  type: 'CHANGE_FORM_VISIBILITY',\n  payload: status\n})\n\nexport const chechLink = link => {\n  const proxy = 'https://cors-anywhere.herokuapp.com/'\n  \n  return fetch(proxy + link)\n}\n\nexport const saveNewItem = ({ link, comment }) => ({\n  type: 'SAVE_NEW_ITEM',\n  payload: { link, comment }\n})\n\nexport const changePreviewStatus = status => ({\n  type: 'CHANGE_PREVIEW_STATUS',\n  payload: status\n})\n\nexport const changePreloaderVisibility = status => ({\n  type: 'CHANGE_PRELOADER_VISIBILITY',\n  payload: status\n})\n\nexport const setItems = items => ({\n  type: 'SET_ITEMS',\n  payload: items\n})\n\nexport const setNewItem = item => ({\n  type: 'SET_NEW_ITEM',\n  payload: item\n})\n\nexport const setIdForEdit = id => ({\n  type: 'SET_ID_FOR_EDIT',\n  payload: id\n})\n\nexport const appendNotification = notification => ({\n  type: 'APPEND_NOTIFICATION',\n  payload: notification\n})\n\nexport const hideNotification = id => {\n  return {\n    type: 'HIDE_NOTIFICATION',\n    payload: id\n  }\n}\n\nexport const removeNotification = id => ({\n  type: 'REMOVE_NOTIFICATION',\n  payload: id\n})\n\nexport const imageModalToggle = modalParams => ({\n  type: 'IMAGE_MODAL_TOGGLE',\n  payload: modalParams\n})\n\n// ----------- thunk`s\n\nexport const showNotify = message => dispatch => {\n  const notificationId = Date.now()\n  const notification = { id: notificationId, message, isVisible: true }\n\n  dispatch(appendNotification(notification))\n  setTimeout(() => dispatch(hideNotification(notificationId)), 4000)\n  setTimeout(() => dispatch(removeNotification(notificationId)), 5000)\n}\n\nexport const applyChanges = items => dispatch => {\n  localStorage.setItem('items', JSON.stringify(items))\n  dispatch(setItems(items))\n}\n\nexport const acceptEdits = item => dispatch => {\n  const items = JSON.parse(localStorage.getItem('items') || '[]')\n  const completedItem = { id: Date.now(), ...item }\n\n  localStorage.setItem('items', JSON.stringify([completedItem, ...items]))\n  dispatch(setNewItem(completedItem))\n}\n\nexport const deleteItem = id => dispatch => {\n  let items = JSON.parse(localStorage.getItem('items') || '[]')\n  items = items.filter(item => item.id !== id)\n\n  localStorage.setItem('items', JSON.stringify(items))\n  dispatch(setItems(items))\n}\n\nexport const editItemById = dataForUpdate => dispatch => {\n  // долго пытался вытащить getState из thunk\n  const { gallery: { items }} = store.getState()\n  const id = dataForUpdate.id\n  const itemIdx = items.findIndex(item => item.id === id)\n  const item = items[itemIdx]\n  const updatedItems = [\n    ...items.slice(0, itemIdx),\n    { ...item, comment: dataForUpdate.comment },\n    ...items.slice(itemIdx + 1)\n  ]\n\n  localStorage.setItem('items', JSON.stringify(updatedItems))\n  dispatch(setItems(updatedItems))\n}","import AppHeader from './app-header'\n\nexport default AppHeader","import React from 'react'\nimport { connect } from 'react-redux'\nimport { changeFormVisibility } from '../../actions'\n\nimport './app-header.css'\n\nconst AppHeader = ({ openForm }) => {\n\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\">\n        Sky Gallery\n      </div>\n      <button className=\"header__add-new\" onClick={ openForm }>\n        <i className=\"material-icons\">add</i>\n        <span>Add New</span>\n      </button>\n    </header>\n  )\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  openForm: () => dispatch(changeFormVisibility(true))\n})\n\nexport default connect(null, mapDispatchToProps)(AppHeader)","import React, { Component } from 'react'\nimport { ReactSortable } from 'react-sortablejs'\nimport { connect } from 'react-redux'\nimport {\n  applyChanges,\n  deleteItem,\n  saveNewItem,\n  setIdForEdit,\n  changePreviewStatus,\n  imageModalToggle\n} from '../../actions'\n\nimport './gallery.css'\n\nexport class Gallery extends Component {\n\n  applyChanges = newState => this.props.applyChanges(newState)\n\n  editComment = item => {\n    this.props.setIdForEdit(item.id)\n    this.props.saveNewItem({ link: item.imgUrl, comment: item.comment })\n    this.props.openPreview()\n  }\n\n  render() {\n    return this.props.items.length ? (\n      <ReactSortable\n        className=\"gallery\"\n        list={ this.props.items }\n        setList={ this.applyChanges }\n        animation={500}\n        delayOnTouchStart={true}\n        delay={2}\n      >\n        { this.props.items.map(item => (\n          <div className=\"g-item\" key={ item.id }>\n            <div className=\"g-item__image-wrapper\">\n              <i\n                className=\"g-item__delete material-icons\"\n                onClick={ () => this.props.deleteItem(item.id) }\n              >\n                close\n              </i>\n              <img\n                className=\"g-item__image\" src={ item.imgUrl } alt=\"\"\n                onClick={ () => this.props.openModal(item.imgUrl)}\n              />\n            </div>\n            <div className=\"g-item__comment\">\n              <div className=\"g-item__comment-edit\">\n                <span>Comment:</span>\n                <i\n                  className=\"material-icons g-item__edit\"\n                  title=\"Edit comment\"\n                  onClick={ () => this.editComment(item) }\n                > \n                  edit\n                </i>\n              </div>\n              <p className=\"g-item__comment-text\">\n                { item.comment.length ? item.comment : 'no comments yet' }\n              </p>\n            </div>\n          </div>\n        ))}\n      </ReactSortable>\n    ) : (\n      <div className=\"gallery_no-photos\">\n        You have no photos yet. To add, click on the button in the upper right.\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({ gallery: { items }}) => ({\n  items\n})\n\nconst mapDispatchToProps = dispatch => ({\n  applyChanges: items => applyChanges(items)(dispatch),\n  deleteItem: id => deleteItem(id)(dispatch),\n  saveNewItem: item => dispatch(saveNewItem(item)),\n  setIdForEdit: id => dispatch(setIdForEdit(id)),\n  openPreview: () => dispatch(changePreviewStatus(true)),\n  openModal: imageLink => dispatch(imageModalToggle({\n    link: imageLink,\n    isVisible: true\n  }))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Gallery)\n","import Gallery from './gallery'\n\nexport default Gallery","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  changeFormVisibility,\n  showNotify,\n  chechLink,\n  saveNewItem,\n  changePreviewStatus,\n  changePreloaderVisibility\n} from '../../actions'\n\nimport './add-form.css'\n\nexport class AddForm extends Component {\n\n  state = {\n    imageUrl: '',\n    comment: '',\n    isButtonDisabled: false\n  }\n\n  close = () => {\n    this.setState(() => ({\n      imageUrl: '',\n      comment: ''\n    }))\n\n    this.props.closeForm()\n  }\n\n  addNewImage = e => {\n    e.preventDefault()\n    this.setState(() => ({ isButtonDisabled: true }))\n\n    const { imageUrl, comment } = this.state\n    const { isNotificationVisible, checkLink,\n            saveNewItem, setPreloaderStatus } = this.props\n\n    if ((!imageUrl || !imageUrl.trim()) && !isNotificationVisible) {\n      this.props.showNotify('Введите ссылку')\n      this.setState(() => ({ isButtonDisabled: false }))\n      return\n    }\n    \n    if (navigator.onLine) {\n      setPreloaderStatus(true)\n      checkLink(imageUrl)\n        .then(res => {\n          if (!res.ok) {\n            this.props.showNotify('Ссылка битая')\n            this.setState(() => ({ isButtonDisabled: false }))\n            setPreloaderStatus(false)\n            return\n          }\n\n          if (res.headers.get('Content-Type').includes('image')) {\n            saveNewItem({\n              link: imageUrl,\n              comment: comment.trim()\n            })\n\n            this.props.closeForm()\n            this.props.openPreview()\n  \n            this.setState(() => ({\n              imageUrl: '',\n              comment: '',\n              isButtonDisabled: false\n            }))\n          } else {\n            this.props.showNotify('Ссылка не на картинку')\n            this.setState(() => ({ isButtonDisabled: false }))\n          }\n          setPreloaderStatus(false)\n        })\n        .catch(err => {\n          this.props.showNotify('Ссылка битая')\n          this.setState(() => ({ isButtonDisabled: false }))\n          setPreloaderStatus(false)\n        })\n    } else {\n      this.props.showNotify('Нет соединения')\n      this.setState(() => ({ isButtonDisabled: false }))\n    }\n    this.setState(() => ({ isButtonDisabled: false }))\n  }\n\n  handleChangeValue(e) {\n    const prop = e.currentTarget.getAttribute('data')\n    const value = e.target.value\n\n    this.setState(() => ({\n      [prop]: value\n    }))\n  }\n\n  render() {\n    return this.props.isFormVisible ? (\n      <div className=\"add-form__overlay\">\n        <form className=\"add-form__form\" onSubmit={ this.addNewImage }>\n          <i\n            className=\"material-icons add-form__close\"\n            onClick={ this.close }\n          >\n            close\n          </i>\n          <p className=\"add-form__heading\">Add new picture</p>\n          <div className=\"add-form__input-wrapper\">\n            <p className=\"add-form__explanation\">Link:</p>\n            <input\n              data=\"imageUrl\"\n              className=\"add-form__link\"\n              type=\"text\"\n              value={ this.state.imageUrl }\n              onChange={ e => this.handleChangeValue(e) }\n              placeholder=\"Enter image link\"\n            />\n          </div>\n          <div className=\"add-form__input-wrapper\">\n            <p className=\"add-form__explanation\">Comment:</p>\n            <textarea\n              data=\"comment\"\n              className=\"add-form__comment\"\n              cols=\"30\"\n              rows=\"3\"\n              value={ this.state.comment }\n              onChange={ e => this.handleChangeValue(e) }\n              placeholder=\"Enter comment (optional)\"\n            />\n          </div>\n          <button\n            className=\"add-form__add-new\"\n            disabled={ this.state.isButtonDisabled }\n            onClick={ this.addNewImage }\n          >\n            Next\n          </button>\n        </form>\n      </div>\n    ) : null\n  }\n}\n\nconst mapStateToProps = ({ gallery, notification }) => ({\n  isFormVisible: gallery.form.isVisible,\n  isNotificationVisible: notification.isVisible\n})\n\nconst mapDispatchToProps = dispatch => ({\n  closeForm: () => dispatch(changeFormVisibility(false)),\n  showNotify: message => showNotify(message)(dispatch),\n  checkLink: link => chechLink(link),\n  saveNewItem: item => dispatch(saveNewItem(item)),\n  openPreview: () => dispatch(changePreviewStatus(true)),\n  setPreloaderStatus: status => dispatch(changePreloaderVisibility(status))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddForm)","import AddForm from './add-form'\n\nexport default AddForm","import Notification from './notification'\n\nexport default Notification","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport './notification.css'\n\nexport const Notification = ({ notifications }) => {\n\n  const notificationsList = notifications.length ?\n    notifications.map(ntf => {\n      let classList = ntf.isVisible ?\n                      'notification notification_active' :\n                      'notification'\n      return (\n        <li className={ classList } key={ ntf.id }>\n          { ntf.message }\n        </li>\n      )\n    }) : null\n\n  return (\n    <>\n      <ul className=\"notifications\">\n        { notificationsList }\n      </ul>\n    </>\n  )\n}\n\nconst mapStateToProps = ({ notification: { notifications }}) => ({\n  notifications\n})\n\nexport default connect(mapStateToProps)(Notification)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport {\n  changePreviewStatus,\n  acceptEdits,\n  saveNewItem,\n  setIdForEdit,\n  editItemById\n} from '../../actions'\n\nimport './preview.css'\n\nexport class Preview extends Component{\n\n  state = {\n    comment: ''\n  }\n\n  componentDidMount() {\n    document.querySelector('.preview__comment-edit').focus()\n\n    this.setState(() => ({\n      comment: this.props.item.comment\n    }))\n  }\n\n  onChange = e => {\n    const value = e.target.value\n    \n    this.setState(() => ({\n      comment: value\n    }))\n  }\n  \n  acceptEdits = () => {\n    const link = this.props.item.link\n    const comment = this.state.comment\n\n    if (this.props.editableId) {\n      this.props.editItemById({\n        id: this.props.editableId,\n        comment: this.state.comment.trim()\n      })\n    } else {\n      this.props.acceptEdits({\n        imgUrl: link,\n        comment: comment.trim()\n      })\n    }\n\n    this.onClose()\n  }\n\n  onClose = () => {\n    this.props.saveNewItem({})\n    this.props.setIdForEdit()\n    this.props.onClose()\n  }\n\n  render() {\n    const { item } = this.props\n\n    return (\n      <div className=\"preview\">\n        <div className=\"preview__box\">\n          <i\n            className=\"material-icons preview__close\"\n            onClick={ this.onClose }\n          >\n            close\n          </i>\n          <p className=\"preview__heading\">Preview</p>\n          <div className=\"preview__data-wrapper\">\n            <div className=\"preview__image-wrapper\">\n              <img src={ item.link } alt=\"\" className=\"preview__image\"/>\n            </div>\n            <div className=\"preview__comment-section\">\n              <p className=\"preview__comment-heading\">Can edit</p>\n              <textarea\n                className=\"preview__comment-edit\"\n                value={ this.state.comment }\n                onChange={ this.onChange }\n              />\n            </div>\n          </div>\n          <button\n            className=\"preview__accept\"\n            onClick={ this.acceptEdits }\n          >\n            I agree\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = ({ gallery }) => ({\n  isVisible: gallery.preview.isVisible,\n  item: gallery.form.newItem,\n  editableId: gallery.editableItemId\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: () => dispatch(changePreviewStatus(false)),\n  acceptEdits: item => acceptEdits(item)(dispatch),\n  saveNewItem: item => dispatch(saveNewItem(item)),\n  setIdForEdit: () => dispatch(setIdForEdit(null)),\n  editItemById: data => editItemById(data)(dispatch)\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Preview)\n","import Preview from './preview'\n\nexport default Preview","import Preloader from './preloader'\n\nexport default Preloader","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport './preloader.css'\n\nconst Preloader = ({ isVisible }) => {\n\n  return isVisible ? (\n    <div className=\"preloader\">\n      <div className=\"lds-ripple\">\n        <div/>\n        <div/>\n      </div>\n    </div>\n  ) : null\n}\n\nconst mapStateToProps = ({ gallery: { preloader }}) => ({\n  isVisible: preloader.isVisible\n})\n\nexport default connect(mapStateToProps)(Preloader)","import Modal from './modal'\n\nexport default Modal","import React from 'react'\nimport { connect } from 'react-redux'\nimport { imageModalToggle } from '../../actions'\n\nimport './modal.css'\n\nexport const Modal = ({ imageModal, closeModal }) => {\n\n  const clickToOverlay = e => {\n    if (e.target.className === 'image-modal') closeModal()\n  }\n\n  return imageModal.isVisible ? (\n    <div className=\"image-modal\" onClick={ e => clickToOverlay(e) }>\n      <div className=\"image-modal__wrapper\">\n        <div className=\"image-modal__close\">\n          <i\n            className=\"material-icons image-modal__close-button\"\n            onClick={ () => closeModal() }\n          >\n            close\n          </i>\n        </div>\n        <div className=\"image-modal__image-wrapper\">\n          <img src={ imageModal.link } alt=\"\" />\n        </div>\n      </div>\n    </div>\n  ) : null\n}\n\nconst mapStateToProps = ({ gallery: { imageModal }}) => ({\n  imageModal\n})\n\nconst mapDispatchToProps = dispatch => ({\n  closeModal: () => dispatch(imageModalToggle({\n    link: '',\n    isVisible: false\n  }))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal)","import App from './app'\n\nexport default App","import React from 'react'\nimport AppHeader from '../app-header'\nimport Gallery from '../gallery'\nimport AddForm from '../add-form'\nimport Notification from '../notification'\nimport Preview from '../preview'\nimport Preloader from '../preloader'\nimport Modal from '../modal'\nimport { connect } from 'react-redux'\n\nimport './app.css'\n\nconst App = ({ isPreviewVisible }) => {\n\n  return (\n    <>\n      <AppHeader />\n      <div className=\"container\">\n        <Gallery />\n      </div>\n      <AddForm />\n      <Notification />\n      { isPreviewVisible ? <Preview /> : null }\n      <Preloader />\n      <Modal />\n    </>\n  )\n}\n\nconst mapStateToProps = ({ gallery }) => ({\n  isPreviewVisible: gallery.preview.isVisible\n})\n\nexport default connect(mapStateToProps)(App)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/app'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={ store }>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}